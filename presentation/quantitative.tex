\documentclass{beamer}

\usepackage{booktabs}
\usepackage{subcaption}

\usepackage{stmaryrd}
\usepackage{mathpartir}
\usepackage{amssymb}
\usepackage{cmll}
\usepackage{xcolor}
\usepackage{makecell}

\input{macros}

\title{Context Constrained Computation}
\subtitle{via a linear-like lambda calculus}
\author{Bob Atkey\inst{1} \and James Wood\inst{1}}
\institute{\inst{1}University of Strathclyde}
\date{TyDe Workshop, 2018}

\begin{document}
  \frame{\titlepage}
  \begin{frame}
    \frametitle{Moving parts}
  \end{frame}
  \begin{frame}[shrink]
    \frametitle{Products}
    \begin{table}[]
      \centering
      \begin{tabular}{c|c}
        with product & tensor product
        \\ \midrule
        $\withT{A}{B}$ & $\tensor{A}{B}$
        \\ \midrule
        \inferrule{\ctx{\Gamma}{\Delta} \vdash S_0 \ni s_0
                   \\ \ctx{\Gamma}{\Delta} \vdash S_1 \ni s_1}
                  {\ctx{\Gamma}{\Delta} \vdash \withT{S_0}{S_1} \ni \wth{s_0}{s_1}}
        &
        \inferrule{\ctx{\Gamma}{\Delta_0} \vdash S_0 \ni s_0
                   \\ \ctx{\Gamma}{\Delta_1} \vdash S_1 \ni s_1
                   \\\\ \rescomment{\Delta \leq \Delta_0 + \Delta_1}}
                  {\ctx{\Gamma}{\Delta} \vdash \tensor{S_0}{S_1} \ni \ten{s_0}{s_1}}
        \\ \midrule
        \inferrule{\ctx{\Gamma}{\Delta} \vdash e \in \withT{S_0}{S_1}}
                  {\ctx{\Gamma}{\Delta} \vdash \proj{i}{e} \in S_i}
        &
        \inferrule{\ctx{\Gamma}{\Delta_e} \vdash e \in \tensor{S_0}{S_1}
                   \\\\ \ctx{\Gamma}{\Delta_s},
                        \ctxvar{x}{S_0}{1}, \ctxvar{y}{S_1}{1} \vdash \bind{x,y}{s} \in T
                   \\\\ \rescomment{\Delta \leq \Delta_e + \Delta_s}}
                  {\ctx{\Gamma}{\Delta} \vdash \prm{T}{e}{\bind{x,y}{s}} \in T}
        \\ \midrule
        Cartesian product
        &
        \makecell{Closed symmetric \\ monoidal product}
      \end{tabular}
    \end{table}
  \end{frame}
  \begin{frame}
    \frametitle{Bang}
    \begin{itemize}
      \item Introduction:
        \inferrule{\ctx{\Gamma}{\Delta_s} \vdash S \ni s
                   \\ \rescomment{\Delta \leq \rho \cdot \Delta_s}}
                  {\ctx{\Gamma}{\Delta} \vdash \excl{\rho}{S} \ni \bang{s}}
      \item Elimination:
        \inferrule{\ctx{\Gamma}{\Delta_e} \vdash e \in \excl{\rho}{S}
                   \\ \ctx{\Gamma}{\Delta_s}, \ctxvar{x}{S}{\rho}
                      \vdash T \ni \bind{x}{s}
                   \\ \rescomment{\Delta \leq \Delta_e + \Delta_s}}
                  {\ctx{\Gamma}{\Delta} \vdash \bm{T}{e}{\bind{x}{s}} \in T}
      \item Graded comonad:
        \begin{mathpar}
          \excl{1}{A} \to A
          \\
          \excl{\pi \cdot \rho}{A} \to \excl{\pi}{\excl{\rho}{A}}
        \end{mathpar}
    \end{itemize}
  \end{frame}
\end{document}
